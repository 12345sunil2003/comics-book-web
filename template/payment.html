{% extends 'base.html' %}

{% block content %}


<head>
    <style>
        .center {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }
    </style>
</head>
<script>
{% for m in messages %}
      alert('{{ m }}');
{% endfor %}


</script>
<div class="center">

    <form class="text-center border border-light p-5" action="/payment_home/success/" method="POST">
        {% csrf_token %}

        <p class="h3 mb-3">Help Author by making small contribution here!!</p>
        <p class="mb-3"></p>

        <input type="name" name="name" id="name" required class="form-control mb-4" placeholder="Name">

        <input type="hidden" name="book_id" value="{{ book_id }}" required class="form-control mb-4" placeholder="Name">
        <input type="hidden" name="amount" value="{{ amount }}" required class="form-control mb-4" placeholder="Name">
        <input type="hidden" name="user_id" value="{{ user_id }}" required class="form-control mb-4" placeholder="Name">

        <!-- RAZORPAY INTEGRATION HERE -->
<!--<form action="https://www.example.com/payment/success/" method="POST">-->
<script
    src="https://checkout.razorpay.com/v1/checkout.js"
    data-key="rzp_test_eJ5mQZgxVgK8kB"
    data-amount="{{ amount }}"
    data-currency="INR"
    data-order_id="{{payment.id}}"
    data-buttontext="Pay with Razorpay"
    data-name="Buy Your Book Now "
    data-description="Dajango and data science"
    data-image="https://example.com/your_logo.jpg"
    data-prefill.name="{{u.username}}"
    data-prefill.email="{{u.email}}"
    data-theme.color="#F37254"
>
        </script>
<!--</form>-->
    </form>

</div>


</div>
{% endblock %}